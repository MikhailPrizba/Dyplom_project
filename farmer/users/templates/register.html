{% extends 'base.html' %}

{% block content %}
<h2>Register</h2>
<form method="post">
  {% csrf_token %}
  {{ form.as_p }}
  <div class="form-group">
    <label for="user_type">I am a:</label>
    <select name="user_type" id="user_type">
      <option value="seller">Seller</option>
      <option value="buyer">Buyer</option>
    </select>
  </div>
  <div class="form-group" id="seller_fields" style="display: none;">
    <label for="photo">Photo:</label>
    <input type="file" name="photo">
    <br>
    <label for="location">Location:</label>
    <input type="text" name="location">
  </div>
  <div class="form-group" id="buyer_fields" style="display: none;">
    <label for="shipping_address">Shipping Address:</label>
    <input type="text" name="shipping_address">
    <br>
    <label for="billing_address">Billing Address:</label>
    <input type="text" name="billing_address">
  </div>
  <button type="submit">Register</button>
</form>
{% endblock %}

{% block scripts %}
<script>
  document.getElementById('user_type').addEventListener('change', function () {
    if (this.value === 'seller') {
      document.getElementById('seller_fields').style.display = 'block';
      document.getElementById('buyer_fields').style.display = 'none';
    } else if (this.value === 'buyer') {
      document.getElementById('buyer_fields').style.display = 'block';
      document.getElementById('seller_fields').style.display = 'none';
    } else {
      document.getElementById('seller_fields').style.display = 'none';
      document.getElementById('buyer_fields').style.display = 'none';
    }
  });
</script>

{% endblock %}